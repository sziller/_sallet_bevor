#: kivy 2.1.0
## ------------------------------------------------------------------
## - Font settings in general. All used fonts to be defined here    -
## ------------------------------------------------------------------
#:set fn_balance_btc "./fonts/Ubuntu-B.ttf"
#:set fs_balance_btc 80

#:set fn_balance_sat "./fonts/Ubuntu-BI.ttf"
#:set fs_balance_sat 40

#:set fn_title "./fonts/Ubuntu-B.ttf"
#:set fs_title 20

#:set fn_subtitle "./fonts/Ubuntu-C.ttf"
#:set fs_subtitle 18

#:set fn_subsubtitle "./fonts/Ubuntu-B.ttf"
#:set fs_subsubtitle 14

#:set fn_button "./fonts/Ubuntu-BI.ttf"
#:set fs_button 14

#:set fn_button_small "./fonts/Ubuntu-BI.ttf"
#:set fs_button_small 11

#:set fn_button_big "./fonts/Ubuntu-B.ttf"
#:set fs_button_big 25

#:set fn_text "./fonts/Ubuntu-C.ttf"
#:set fs_text 12

#:set fn_data "./fonts/Ubuntu-LI.ttf"
#:set fs_data 12

#:set fn_text_normal "./fonts/Ubuntu-C.ttf"
#:set fs_text_normal 13

#:set fn_data_normal "./fonts/Ubuntu-LI.ttf"
#:set fs_data_normal 13

#:set fn_text_large "./fonts/Ubuntu-C.ttf"
#:set fs_text_large 15

#:set fn_data_large "./fonts/Ubuntu-C.ttf"
#:set fs_data_large 15

#:set fn_data "./fonts/Ubuntu-LI.ttf"
#:set fs_data 12

## ------------------------------------------------------------------
## - Colors to be used globally:                                    -
## ------------------------------------------------------------------

#:set clr_wallet_bck (0.137, 0.145, 0.2, 1)
#:set clr_transp_bck (0.231, 0.929, 0.455, 0.05)

#:set clr_white (1, 1, 1, 1)
#:set clr_orange (1, 0.6, .125, 1)
#:set clr_yellow (1, 0.77, 0.1, 1)
#:set clr_green (0.231, 0.929, 0.455, 1)
#:set clr_blue (0, 0.39, 1, 1)


#:set clr_title_txt (0, 0, 0, 1)
#:set clr_area_bck (0.186, 0.186, 0.186, 1)
#:set clr_light_bck (0.486, 0.486, 0.486, 1)

#:set clr_button_bck (0.486, 0.486, 0.486, 0.2)
#:set clr_button_txt (0.937, 0.482, 0.133, 1)
#:set clr_buttonbig_bck (0.486, 0.486, 0.486, 1)
#:set clr_buttonbig_txt (1, 1, 1, 1)

## ------------------------------------------------------------------
## - Filelinks to be used globally:                                 -
## ------------------------------------------------------------------
#:set rootpath_cli "./test_cli" ## .cli file directory
#:set rootpath_stl "./test_stl" ## .stl file directory

#:set background_image "./images/MinimalIndustrySurf-02STRWP.jpg"
#:set defaultim "./images/HandCandleWP.jpg"

#:set logo_img "./icons/Sallet-BEVOR_Icon.png"
##:set logo_img "./icons/cr/logo.png"
#:set qr_in_title_img "./images/qr_in_title.png"

## ------------------------------------------------------------------
## transitions imported for screenchanges:
## ------------------------------------------------------------------
#:import NoTransition kivy.uix.screenmanager.NoTransition
## -----------------------------------------------------------------------------
#:import CardTransition kivy.uix.screenmanager.CardTransition
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#:import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import SwapTransition kivy.uix.screenmanager.SwapTransition
#:import WipeTransition kivy.uix.screenmanager.WipeTransition

## ----------------------------------------------------------------------
## Root Widget definition: Screenhandler                        START   -
## ----------------------------------------------------------------------

SalletScreenManager:
    id: "ThisIsYourROOTWidget"
    canvas.before:
        Color:
            rgba: clr_wallet_bck
        Rectangle:
            pos: self.pos
            size: self.size
            # source: background_image
    ScreenIntro:
        id: screen_intro
    ScreenCommand:     ## <-- Add this line to include the new screen
        id: screen_command

## ----------------------------------------------------------------------
## Root Widget definition: Screenhandler                        ENDED   -
## ----------------------------------------------------------------------

#:set rel_size_t_line (1, 0.075)
#:set rel_size_navbar (1, 0.05)
#:set rel_size_oparea (1, 0.8)
#:set rel_size_ribbon (1, 0.075)
#:set size_list (0.4, 1)
#:set size_list_left (0.6, 1)
#:set size_list_left_par (0.15, 1)
#:set size_list_left_arg (0.45, 1)
#:set size_list_comm_left (0.3, 1)
#:set size_list_comm_center (0.5, 1)
#:set size_list_comm_right (0.2, 1)
#:set n_features 2
#:set n_commands 6


<SalletScreenManager>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## transition: NoTransition()
    ## transition: CardTransition(duration=0.2)
    ## transition: FadeTransition(duration=0.05)
    ## transition: FallOutTransition(duration=0.05)    # opposites v
    ## transition: RiseInTransition(duration=0.08)     # opposites ^
    transition: SlideTransition(duration=0.2)
    ## transition: SwapTransition(duration=.5)
    ## transition: WipeTransition()


<InScreenWindow@BoxLayout>:
    orientation: "vertical"


<ScreenIntro@Screen>:
    name: "screen_intro"
    InScreenWindow:  ## Screen class is a widget, it is not filled up automatically
        TitleLine:
            id: screen_intro_titleline
            size_hint: rel_size_t_line                      ##  0.05
            display_title: "Sallet BEVOR"
        NavBar:
            id: navbar
            size_hint: rel_size_navbar                      ##  0.05    < 0.10
        OpAreaIntro:
            size_hint: rel_size_oparea                       ##  0.9     < 1
            id: oparea_intro
        Ribbon:
            id: ribbon_intro
            size_hint: rel_size_ribbon
            text_ribbon: "Bottom of Screen: Introduction"
            image_source: logo_img
            
<ScreenCommand@Screen>:
    name: "screen_command"
    InScreenWindow:
        TitleLine:
            id: screen_command_titleline
            size_hint: rel_size_t_line
            display_title: "Command"
        NavBar:
            id: navbar
            size_hint: rel_size_navbar
        OpAreaCommand:
            size_hint: rel_size_oparea
            id: oparea_command
        Ribbon:
            id: ribbon_command
            size_hint: rel_size_ribbon
            text_ribbon: "Bottom of Screen: Command"
            image_source: logo_img


<TitleLine>:  ## parent class not shown to omit Factory: re-declaration WARNING
    display_title: "default"
    orientation: "horizontal"
    ScreenTitleLabel:
        font_name: fn_title
        font_size: fs_title
        text: root.display_title

<NavBar>:  ## parent class not shown to omit Factory: re-declaration WARNING
    id: navbar
    orientation: "horizontal"
    size_hint: 1, 0.05
    ButtonScreenNav:
        id: button_nav_intro
        target: "screen_intro"
        text: "Welcome"
        on_release: root.on_release_navbar(self)
    ButtonScreenNav:
        id: button_nav_command
        target: "screen_command"
        text: "command"
        on_release: root.on_release_navbar(self)
        
<Ribbon>:  ## parent class not shown to omit Factory: re-declaration WARNING
    text_ribbon: "N/A"
    image_source: None
    orientation: "horizontal"
    LabelSubSubTitle:
        size_hint: 0.95, 1
        text: root.text_ribbon
    Image:
        keep_ratio: True
        allow_stretch: False
        size_hint: 0.05, 1
        source: root.image_source

<OperationAreaBox>:  ## parent class not shown to omit Factory: re-declaration WARNING
    spacing: 5
    padding: 20, 0, 20, 0

<OpAreaIntro>:  ## parent class not shown to omit Factory: re-declaration WARNING
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, 1
        LabelWelcomeTitle:
            size_hint: 1, 0.1
            id: lbl_welcome_title
            text: "Welcome"
        LabelWelcomeIntro:
            size_hint: 1, 0.3
            id: lbl_welcome_intro
            text: "Welcome"
        BoxLayout:
            size_hint: 1, 0.6
            orientation: "vertical"
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_features
                size_lbl: size_list_left
                size_btn: size_list
                text_btn: "Node selection"
                text_lbl: "Customize the way you publish your transaction"
                ButtonInfo: ## LabelWelcomeList:
                    size_hint: size_list
                    text: "Node selection"
                    on_release: app.on_release_switch_node()
                LabelWelcomeListLeft:
                    id: lbl_node_parameters
                    size_hint: size_list_left_par
                    text: "alias:\naccess:\npath:\nowner:\nfeatures:\ndescription:"
                LabelWelcomeListLeft:
                    id: lbl_node_selection
                    size_hint: size_list_left_arg
                    text: "Customize the way you publish your transaction"
        BoxLayout:
            size_hint: 1, 0.1
            LabelPH:
                size_hint: 1, 1

<OpAreaCommand>:  ## parent class not shown to omit Factory: re-declaration WARNING
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, 1
        LabelWelcomeTitle:
            size_hint: 1, 0.1
            id: lbl_welcome_title
            text: "Welcome"
        LabelWelcomeIntro:
            size_hint: 1, 0.1
            id: lbl_welcome_intro
            text: "Welcome"
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.4
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_commands
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_act_02
                    cmdnr: 2
                    size_hint: size_list_comm_left
                    text: "Nr. of connections"
                    on_release: root.on_buttonclick_toggle(self)
                LabelWelcomeListLeft:
                    id: inp_cmd_02
                    size_hint: size_list_comm_center
                    text: ""
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_issue_02
                    size_hint: size_list_comm_right
                    text: "ENTER"
                    on_release: root.on_release_getconnectioncount()
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_commands
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_act_03
                    cmdnr: 3
                    size_hint: size_list_comm_left
                    text: "Blockchain length"
                    on_release: root.on_buttonclick_toggle(self)
                LabelWelcomeListLeft:
                    id: inp_cmd_03
                    size_hint: size_list_comm_center
                    text: ""
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_issue_03
                    size_hint: size_list_comm_right
                    text: "ENTER"
                    on_release: root.on_release_getblockcount()
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_commands
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_act_01
                    cmdnr: 1
                    size_hint: size_list_comm_left
                    text: "Display TX"
                    on_release: root.on_buttonclick_toggle(self)
                TextInputSallet:
                    id: inp_cmd_01
                    size_hint: size_list_comm_center
                    hint_text: "Enter TX id"
                    on_text: root.on_textupdate_txid(self)
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_issue_01
                    size_hint: size_list_comm_right
                    text: "ENTER"
                    on_release: root.on_buttonclick_showtx(self)
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_commands
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_act_04
                    cmdnr: 4
                    size_hint: size_list_comm_left
                    text: "Blockhash by Sequence Nr."
                    on_release: root.on_buttonclick_toggle(self)
                TextInputSallet:
                    id: inp_cmd_04
                    size_hint: size_list_comm_center
                    hint_text: "Enter block's sequence number!"
                    on_text: root.on_textupdate_seqnr(self)
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_issue_04
                    size_hint: size_list_comm_right
                    text: "ENTER"
                    on_release: root.on_release_getblockhash()
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_commands
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_act_05
                    cmdnr: 5
                    size_hint: size_list_comm_left
                    text: "is TX confirmed"
                    on_release: root.on_buttonclick_toggle(self)
                TextInputSallet:
                    id: inp_cmd_05
                    size_hint: size_list_comm_center
                    hint_text: "Enter TX id"
                    on_text: root.on_textupdate_txid(self)
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_issue_05
                    size_hint: size_list_comm_right
                    text: "ENTER"
                    on_release: root.on_release_check_tx_confirmation()
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 1/n_commands
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_act_06
                    cmdnr: 6
                    size_hint: size_list_comm_left
                    text: "get nr. of TX confirmations"
                    on_release: root.on_buttonclick_toggle(self)
                TextInputSallet:
                    id: inp_cmd_06
                    size_hint: size_list_comm_center
                    hint_text: "Enter TX id"
                    on_text: root.on_textupdate_txid(self)
                ButtonInfo: ## LabelWelcomeList:
                    id: btn_cmd_issue_06
                    size_hint: size_list_comm_right
                    text: "ENTER"
                    on_release: root.on_release_count_tx_confirmation()
            ## Add more widgets here for the "command" screen as needed
        ScrollViewSallet:
            id: scrlv
            size_hint: 1, 0.4
            ##LabelBrowse:
            TextInputBrowser:
                height: scrlv.height
                size_hint: 1, 1.1
                id: lbl_tx_info
                text: ""
                

#   ---------------------------------------------------------------------
#   - Button:                                                   START   -
#   ---------------------------------------------------------------------

<ButtonSallet>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## background_normal: ''
    ## background_down: ''
    background_color: clr_button_bck
    
 
<ButtonInfo>:  ## parent class not shown to omit Factory: re-declaration WARNING
    font_size: fs_subtitle
    font_name: fn_subtitle
    text_size: self.size
    halign: 'left'  ## center, right, left
    valign: 'middle'  ## middle, top, bottom
    padding: 20, 0, 0, 0
    color: clr_white
    

<ButtonBig>:  ## parent class not shown to omit Factory: re-declaration WARNING
    font_name: fn_button_big
    font_size: fs_button_big
    background_color: clr_orange
    color: clr_orange
    

<ButtonScreenNav>:  ## parent class not shown to omit Factory: re-declaration WARNING
    background_color: clr_orange
    color: clr_orange
    font_name: fn_button
    font_size: fs_button
    target: ""
    disabled: True
    text_size: self.size
    padding: (2, 2)
    text: "ToggleButton"
    halign: 'center'  ## center, right, left
    valign: 'middle'  ## middle, top, bottom

    
#   ---------------------------------------------------------------------
#   - Button:                                                   ENDED   -
#   --------------------------------------------------------------------

#   ---------------------------------------------------------------------
#   - Label:                                                    START   -
#   ---------------------------------------------------------------------

<LabelListitem>:  ## parent class not shown to omit Factory: re-declaration WARNING

<LabelWelcomeTitle>: ## parent class not shown to omit Factory: re-declaration WARNING
    ## canvas.before:
    ##     Color:
    ##         rgba: clr_blue
    ##     Rectangle:
    ##         pos: self.pos
    ##         size: self.size
    color: clr_orange
    font_size: fs_title
    font_name: fn_title
    text_size: self.size
    halign: 'center'  ## center, right, left
    valign: 'center'  ## middle, top, bottom

<LabelWelcomeIntro>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## canvas.before:
    ##     Color:
    ##         rgba: clr_blue
    ##     Rectangle:
    ##         pos: self.pos
    ##         size: self.size
    color: clr_white
    font_size: fs_text_normal
    font_name: fn_text_normal
    text_size: self.size
    line_height: 1.1
    ## padding: 80, 0, 80, 0 ##left, top, right, bottom
    halign: 'justify'  ## center, right, left, justify
    valign: 'top'  ## middle, top, bottom

<LabelWelcomeList>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## canvas.before:
    ##     Color:
    ##         rgba: clr_blue
    ##     Rectangle:
    ##         pos: self.pos
    ##         size: self.size
    color: clr_white
    font_size: fs_subtitle
    font_name: fn_subtitle
    text_size: self.size
    ## padding: 80, 0, 10, 0 ##left, top, right, bottom
    line_height: 1.2
    halign: 'left'  ## center, right, left
    valign: 'middle'  ## middle, top, bottom

<LabelWelcomeListLeft>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## canvas.before:
    ##     Color:
    ##         rgba: clr_blue
    ##     Rectangle:
    ##         pos: self.pos
    ##         size: self.size
    color: clr_white
    font_size: fs_text_normal
    font_name: fn_text_normal
    text_size: self.size
    padding: 10, 0, 10, 0 ##left, top, right, bottom
    line_height: 1.0
    halign: 'justify'  ## center, right, left
    valign: 'middle'  ## middle, top, bottom

    
<LabelSubSubTitle>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## canvas.before:
    ##     Color:
    ##         rgba: clr_wallet_bck
    ##     Rectangle:
    ##         pos: self.pos
    ##         size: self.size
    color: clr_button_txt
    font_size: fs_subsubtitle
    font_name: fn_subsubtitle
    text_size: self.size
    halign: 'center'  ## center, right, left
    valign: 'center'  ## middle, top, bottom

<ScreenTitleLabel>:  ## parent class not shown to omit Factory: re-declaration WARNING
    font_size: fs_title
    font_name: fn_title
    color: clr_orange

<LabelPH@Label>:

#   ---------------------------------------------------------------------
#   - Label:                                                    ENDED   -
#   ---------------------------------------------------------------------

#   ---------------------------------------------------------------------
#   - ScrollView:                                               START   -
#   ---------------------------------------------------------------------

<ScrollViewSallet>:  ## parent class not shown to omit Factory: re-declaration WARNING
    canvas.before:
        Color:
            rgba: clr_transp_bck
        Rectangle:
            pos: self.pos
            size: self.size
    scroll_timeout: 2000
    scroll_distance: 10
    bar_margin:3
    bar_width: 5
    bar_color: 255/255, 143/255, 5/255, 0.8 
    bar_inactive_color: 255/255, 143/255, 5/255, 0.8 
    do_scroll_x:False
    scroll_type:['bars','content']

#   ---------------------------------------------------------------------
#   - ScrollView:                                               ENDED   -
#   ---------------------------------------------------------------------

#   ---------------------------------------------------------------------
#   - TextInput::                                               START   -
#   ---------------------------------------------------------------------

<TextInputSallet>:  ## parent class not shown to omit Factory: re-declaration WARNING
    font_name: fn_data_normal
    font_size: fs_data_normal
    text_size: self.size
    line_height: 40
    multiline: False
    focus: False
    hint_text: "enter value"
    padding_y: [self.height / 2.0 - (self.line_height / 2.0), 0]
    foreground_color: (1,1,1,1)
    background_color: (1,1,1,0.2)
    cursor_color: (1,1,1,1)
    halign: 'left'  ## center, right, left
    valign: 'middle'  ## middle, top, bottom
    
<TextInputBrowser>:  ## parent class not shown to omit Factory: re-declaration WARNING
    ## canvas.before:
    ##     Color:
    ##         rgba: clr_light_bck
    ##     Rectangle:
    ##         pos: self.pos
    ##         size: self.size
    padding: 5, 2, 5, 2
    hint_text: "your answers will be displayed here"
    ## focus: False
    auto_indent: True  ### ?????
    color: 0, 0, 0, 1
    readonly: True
    font_size: fs_text
    font_name: fn_text
    text_size: self.size
    halign: 'left'  ## center, right, left
    valign: 'top'  ## middle, top, bottom

#   ---------------------------------------------------------------------
#   - TextInput::                                               ENDED   -
#   ---------------------------------------------------------------------
